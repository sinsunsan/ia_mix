// This file is part of ia_mix suite
// http://github.com/sinsunsan/ia_mix

// Settings common to all fields
@mixin ia-form-input-fields(){
  // Settings directly form twitter bootstrap
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
}

// Set the style of form input text element 
// As found in drupal node form
//
// Sould be applyed to a form item container
// .form-item { @include ia-form-field-input }
@mixin ia-form-input-text (
  $background: $ia-form-input-background,
  $border: false,
  $font-size: $ia-tx-norm,
  $radius: false,
  $width-grid: false,
  $width: false,
  $border: solid 1px $ia-col-gris-light
) {    
    // Both system of width are accepted
    // Cause of of bug of interpretation (don't change {  position })
    input[type="text"]
    {
      @if ($background){ background: $background; } 
      height: 1.5 * $font-size;
      @if ($border){ border: $border; }
      @if ($radius){@include border-radius($radius);}
      @if ($width){ width: $width; }
      @if ($width-grid){ @include ia-width($width-grid) }
      
      @include ia-form-input-fields;
    }

}

// Should be applyed in the field container 
// .form-item-textarea { @include ia-form-text-area }
@mixin ia-form-text-area(
  $background: $ia-form-input-background,
  $border: false, // Border
  $font-size: false, // 
  $height: false, // Height
  $height-grid: false, // Height in grid division  
  $margin: false, // Margin
  $radius: false,
  $padding: false, // Padding
  $width: false, // Width
  $width-grid: false // Width in grid division
) {
  
  
  @if ($padding){ padding: $padding; }
  @if ($margin){ padding: $margin; }
  
  // Texte area field
  .resizable-textarea {
    @if ($font-size){ font-size: $font-size; }
    @if ($height){ height: $width; }
    @if ($height-grid){width: ia-grid($width-grid) }  
    @if ($width){ width: $width; } 
    @if ($width-grid){ width: ia-grid($width-grid) }
    textarea {
      @if ($background){ background: $background; } 
      @if ($border){ border: $border; }  
      @if ($radius){@include border-radius($radius);}
      
    }
    @include ia-form-input-fields;
  }
  // Help text below
  .description {
    @if ($width){ width: $width; }
    @if ($width-grid){ width: ia-grid($width-grid) }
  }
  
}


// This mixin sould be applied of the field element 
// but this field don't ouput a class that specify it's type at the top level
@mixin ia-form-file-field (
  $background: $ia-form-input-background,
  $border: none,
  $font-size: $ia-tx-norm,
  $radius: false,
  $width: false,
  $width-grid: false  
) {
  
  ///.filefield-element {
  //  margin-top: 0;
  // We need to have always the type printed at the form-item top level
  // To have a consistent handling a file independently of their type
  
    // Both system of width are accepted
    // Cause of of bug of interpretation (don't change {  position })
    input[type="file"]{
      @if ($background){ background: $background; } 
      height: 1.5 * $font-size;
      @if ($border){ border: $border; }
      @if ($radius){@include border-radius($radius);}
      @if ($width){ width: $width; }
      @if ($width-grid){ @include ia-width($width-grid) }
    }
    input[type="submit"]{
      display: none;
    
  }
}



// Multiple node reference widget
@mixin ia-form-nodereference (
  $font-size: $ia-tx-norm,
  $width: false, // Width of the input text
  $width-grid: 4,
  $border: solid 1px $ia-col-gris-light
) {
  
  
  $noderelationship-width: 52px;
  $drag-width: 25px;
  $total-width: ia-grid(4);
  @if ($width){ $total-width: $width-grid;}
  @if ($width-grid){ $total-width: ia-grid($width-grid);}
  
  $input-width : $total-width - $drag-width - $noderelationship-width;
  
  table.content-multiple-table {
    // Use exact pixel diemnsions
    //table-layout: fixed;
    
    // The icon and the text field
    td {
      margin: 0;
      padding: 0; 
      width: auto;
      input[type="text"] {
        width: $input-width;
      }
    }
    // The icon to change the order of the node reference fields
    
    td.content-multiple-drag {
      //width: 20px;
    }
    
  }
  
}


// Should be applyed in the field container 
// .form-item-radios { @include ia-form-radio }
@mixin ia-form-radio (
  $title-color: false, // Color of the title of the field
  $title-font: false, // Style of the title of the field
  
  $option-color: false, // Color of the options text
  $option-font: false, // Style of the options text
  
  $help-color: false, // Color of the help text beneath the options
  $help-font: false, // Style of the help text
  
  $width: false, // Width of the containing div
  $width-grid: false, // Width of the containng div in grid unit
  
  $border: false // border style of the containing dic
) {
  @if ($width) { width: $width; }
  @if ($width-grid){ @include ia-width($width-grid); }
  @if ($border){ border: $border; }
  
  label {
    @if ($title-color) { color: $title-color; }
    @if ($title-font) { font: $title-font; }
  }
  .form-radios {
    margin: 0;
    padding: 0;
  }
  // Each radio button is wrapped in a .form-item div
  .form-item.form-item-radio {
    margin: 0;
    padding: 0;
    // text of the option along radio button
    label {
      @if ($option-color) { color: $option-color;}
      @if ($option-font) { font: $option-font;}
    }
  }
  // Description
  .description {
    margin: 5px;
    padding: 0;
    @if ($help-color) { color: $help-color; }
    @if ($help-font) { font: $help-font; }
  }
}



// Form field style in drupal 
// $color: Color of the text
// $font-size: Size of the text
// $font-weight: Weight of the text
@mixin ia-field-label (
  $color: $ia-col-tx-main,
  $font-size: $ia-tx-norm,
  $font-weight: normal
) {
  color: $color;
  font-size: $font-size;
  font-weight: $font-weight;
}



